# Poio Blind Box - 盲盒开箱平台

一个基于现代Web技术栈构建的盲盒开箱和社交分享平台。

## 📋 项目信息

### 前后端代码库地址
- **GitHub链接**: [https://github.com/Kadsoo/poioProject/tree/master]()
- **项目类型**: 全栈Web应用
- **开发语言**: TypeScript (后端) + JavaScript (前端)

### 打包平台说明
- **支持平台**: Windows, Linux, MacOS
- **部署方式**: 
  - Docker容器化部署
  - 传统Node.js部署
  - 单文件打包部署

## 🏗️ 技术架构

### 后端技术栈
- **框架**: Midway.js (Node.js企业级框架)
- **数据库**: SQLite (轻量级关系型数据库)
- **ORM**: TypeORM (对象关系映射)
- **认证**: bcrypt (密码加密)
- **API文档**: Swagger
- **服务器**: Koa.js
- **语言**: TypeScript

### 前端技术栈
- **框架**: React 19 (最新版本)
- **构建工具**: Vite (快速构建)
- **样式**: Tailwind CSS (原子化CSS)
- **语言**: JavaScript
- **路由**: React Router (SPA路由)

### 部署和运维
- **容器化**: Docker + Docker Compose
- **静态文件**: Koa静态文件服务
- **缓存优化**: 浏览器缓存破坏策略
- **安全配置**: Cookie安全设置

## 🚀 核心功能

### 1. 用户系统
- **用户注册/登录**: 安全的用户认证系统
- **用户资料管理**: 头像上传、个人信息编辑
- **权限控制**: 基于用户ID的内容权限管理

### 2. 盲盒管理
- **盲盒创建**: 用户可以创建自定义盲盒
- **盲盒展示**: 精美的盲盒展示界面
- **盲盒详情**: 详细的盲盒信息页面
- **盲盒购买**: 完整的购买流程

### 3. 购买系统
- **购物车**: 商品添加到购物车
- **订单管理**: 完整的订单创建和管理
- **购买记录**: 用户购买历史记录
- **支付流程**: 模拟支付流程

### 4. 社交功能
- **玩家秀**: 用户分享开箱体验
- **内容编辑**: 支持编辑和删除自己的内容
- **图片上传**: 多图片上传和管理
- **用户互动**: 点赞、评论功能

### 5. 内容管理
- **图片管理**: 支持多图片上传和预览
- **内容编辑**: 实时编辑和删除功能
- **权限验证**: 确保用户只能编辑自己的内容

## 🛠️ 额外实现的功能

### 1. 高级UI/UX设计
- **响应式设计**: 适配各种屏幕尺寸
- **现代化界面**: 使用Tailwind CSS构建美观界面
- **平滑动画**: CSS过渡效果和悬停动画
- **自定义滚动条**: 优化的滚动条样式

### 2. 性能优化
- **代码分割**: 按需加载组件
- **缓存策略**: 浏览器缓存破坏机制
- **静态资源优化**: 图片懒加载和压缩
- **构建优化**: Vite快速构建和热重载

### 3. 安全特性
- **Cookie安全**: httpOnly和sameSite配置
- **密码加密**: bcrypt安全哈希
- **权限控制**: 基于用户ID的访问控制
- **输入验证**: 前端和后端双重验证

### 4. 开发体验
- **TypeScript支持**: 完整的类型安全
- **API文档**: Swagger自动生成文档
- **错误处理**: 统一的错误处理机制
- **调试支持**: 详细的日志和调试信息

### 5. 部署便利性
- **Docker支持**: 一键容器化部署
- **多平台支持**: Windows/Linux/MacOS
- **自动化构建**: 完整的构建脚本
- **环境配置**: 开发和生产环境配置

### 6. 玩家秀内容管理（附加功能）
- **内容编辑**: 用户可编辑自己发布的玩家秀标题、内容和图片
- **内容删除**: 支持删除自己的玩家秀，确保数据安全
- **权限验证**: 严格的用户权限检查，只能编辑自己的内容
- **实时预览**: 编辑时提供实时预览功能
- **操作确认**: 删除操作需要用户确认，防止误操作

### 7. 多图片上传与管理（附加功能）
- **批量上传**: 支持同时选择多张图片上传
- **图片预览**: 上传前提供缩略图预览
- **图片管理**: 支持删除已上传的图片
- **格式支持**: 支持JPG、PNG、WebP等多种图片格式
- **压缩优化**: 自动压缩大图片，提升加载速度
- **存储管理**: 图片存储在服务器，支持持久化

### 8. 购物车功能（附加功能）
- **商品添加**: 支持将盲盒添加到购物车
- **数量管理**: 可调整购物车中商品数量
- **价格计算**: 实时计算购物车总价
- **商品移除**: 支持从购物车中移除商品
- **购物车持久化**: 购物车数据在本地存储，刷新页面不丢失
- **一键清空**: 支持清空整个购物车

### 9. 响应式设计与动画效果（附加功能）
- **移动端适配**: 完美适配手机、平板、桌面设备
- **弹性布局**: 使用Flexbox和Grid实现灵活布局
- **悬停动画**: 按钮、卡片等元素的悬停效果
- **过渡动画**: 页面切换和状态变化的平滑过渡
- **自定义滚动条**: 美化滚动条样式，提升用户体验
- **加载动画**: 数据加载时的友好提示动画
- **微交互**: 点击、输入等操作的即时反馈

### 10. 用户体验优化（附加功能）
- **通知系统**: 操作成功/失败的友好提示
- **加载状态**: 数据加载时的加载指示器
- **错误处理**: 网络错误和异常情况的友好提示
- **表单验证**: 实时表单验证和错误提示
- **键盘导航**: 支持键盘快捷键操作
- **无障碍支持**: 基本的无障碍访问支持

### 11. 智能筛选与排序系统（附加功能）
- **多维度筛选**: 支持按类别、标签、关键词等多维度筛选盲盒
- **智能搜索**: 支持标题、描述、标签的模糊搜索匹配
- **动态类别**: 自动提取所有盲盒类别，动态生成筛选选项
- **多种排序方式**: 
  - 最新发布：按发布时间倒序排列
  - 最多点赞：按点赞数量排序
  - 最多评论：按评论数量排序
  - 价格从低到高：按价格升序排列
  - 价格从高到低：按价格降序排列
- **实时筛选**: 筛选和排序结果实时更新，无需刷新页面
- **组合筛选**: 支持搜索关键词与类别筛选的组合使用
- **结果统计**: 显示筛选后的结果数量和搜索关键词
- **状态保持**: 筛选条件在页面切换时保持状态
- **性能优化**: 使用React.memo优化渲染性能，避免不必要的重渲染

## 📦 安装和运行

### 环境要求
- Node.js >= 16.0.0
- npm >= 8.0.0
- Git

### 快速开始

1. **克隆项目**
```bash
git clone [https://github.com/Kadsoo/poioProject/tree/master]
cd poioBlindBoxProject
```

2. **安装依赖**
```bash
npm run install:all
```

3. **开发模式**
```bash
# 启动后端
npm run dev:backend

# 启动前端 (新终端)
npm run dev:frontend
```

4. **生产构建**
```bash
npm run build
```

5. **Docker部署**
```bash
# 构建镜像
npm run build:docker

# 启动容器
npm run start:docker
```

## 🔧 开发命令

```bash
# 安装所有依赖
npm run install:all

# 开发模式
npm run dev:backend    # 启动后端服务器
npm run dev:frontend   # 启动前端开发服务器

# 构建项目
npm run build          # 完整构建
npm run build:docker   # Docker构建

# Docker操作
npm run start:docker   # 启动Docker容器
npm run stop:docker    # 停止Docker容器
```

## 📚 API文档

启动后端服务器后，访问 `http://localhost:7001/swagger-ui/index.html` 查看完整的API文档。

## 🐳 Docker部署

### 使用Docker Compose
```bash
# 构建并启动
docker-compose up -d

# 查看日志
docker-compose logs -f

# 停止服务
docker-compose down
```

### 使用Dockerfile
```bash
# 构建镜像
docker build -t poio-blindbox .

# 运行容器
docker run -p 7001:7001 poio-blindbox
```

## 🎯 学习中印象最深刻的内容

### 1. 前后端分离架构
- 深入理解了现代Web应用的架构设计
- 掌握了API设计和前后端通信模式
- 学会了如何处理跨域和静态文件服务

### 2. 状态管理和数据流
- 理解了React的状态管理机制
- 掌握了父子组件间的数据传递
- 学会了如何处理复杂的用户交互状态

### 3. 数据库设计和ORM使用
- 学会了使用TypeORM进行数据库操作
- 理解了实体关系映射的概念
- 掌握了数据库迁移和同步策略

### 4. 安全性和权限控制
- 学会了实现用户认证和授权
- 理解了密码加密和Cookie安全
- 掌握了基于用户ID的权限验证

### 5. 现代化开发工具链
- 深入理解了Vite的快速构建机制
- 学会了使用Docker进行容器化部署
- 掌握了自动化构建和部署流程

## 💡 对课程内容的改进建议

### 1. 技术栈选择
- **建议**: 可以考虑引入更多现代化工具
  - 状态管理: Redux Toolkit 或 Zustand
  - 表单处理: React Hook Form
  - 数据获取: React Query 或 SWR
  - 测试框架: Jest + React Testing Library

### 2. 性能优化
- **建议**: 增加更多性能优化内容
  - 代码分割和懒加载
  - 图片优化和CDN使用
  - 服务端渲染(SSR)或静态生成(SSG)
  - 缓存策略和PWA支持

### 3. 安全性增强
- **建议**: 加强安全相关内容
  - JWT令牌认证
  - CSRF防护
  - XSS和SQL注入防护
  - 输入验证和清理

### 4. 用户体验
- **建议**: 提升用户体验
  - 加载状态和错误处理
  - 离线支持和PWA
  - 无障碍访问(Accessibility)
  - 国际化(i18n)支持

### 5. 开发体验
- **建议**: 改善开发体验
  - 自动化测试
  - 代码质量检查(ESLint, Prettier)
  - Git工作流和CI/CD
  - 开发环境配置

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！
